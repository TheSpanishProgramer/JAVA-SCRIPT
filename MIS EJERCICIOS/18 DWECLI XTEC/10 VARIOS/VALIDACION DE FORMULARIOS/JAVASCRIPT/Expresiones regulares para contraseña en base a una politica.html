<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Expresiones regulares para contraseña en base a una politica</title>
    <style>
      #clave {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <input
      id="clave"
      placeholder="8 caracteres, con 2 dígitos, 1 may, 1 min, sin repetir 1 caracter 4 veces, sin espacios"
    />
    <pre id="ok" />
  </body>

  <script>
    var politicaContrasenna = /^(?=(?:.*\d){2})(?=.*[A-Z])(?=.*[a-z])(?!.{0,4}(.)(?:.*\1){3})\S{8}$/,
      inpClave = document.getElementById('clave'),
      inpOk = document.getElementById('ok');

    inpClave.addEventListener('input', function (evt) {
      if (politicaContrasenna.test(inpClave.value)) {
        inpOk.innerText = 'válida';
      } else {
        inpOk.innerText = 'inválida';
      }
    });
  </script>
</html>
