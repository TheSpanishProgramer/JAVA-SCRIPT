<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Métodos y propiedades básicos del Objeto XMLHttpRequest</title>
    <style></style>
    <script>
      if (window.XMLHttpRequest) {
        // Mozilla, Safari, IE7+
        httpRequest = new XMLHttpRequest();
        console.log('Creado el Objeto a partir de XMLHttpRequest.');
      } else if (window.ActiveXObject) {
        // IE 6 y anterior
        httpRequest = new ActiveXObject('Microsoft.XMLHTTP');
        console.log('Creado el Objeto a partir de ActiveXObject.');
      } else {
        console.error('Error: Este navegador no soporta AJAX.');
      }

      httpRequest.onreadystatechange = processarCanviEstat;

      httpRequest.open(
        'GET',
        'https://api.idescat.cat/emex/v1/dades.xml?id=080018&i=f171',
        true
      );
      httpRequest.send(null);

      function processarCanviEstat() {
        console.log('Ha cambiado el estado de la petición');
      }
    </script>
  </head>
  <body></body>
</html>
