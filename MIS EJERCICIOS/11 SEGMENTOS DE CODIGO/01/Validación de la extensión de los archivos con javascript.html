<html>
  <head>
    <title>Valida la extensión del archivo que vamos a publicar.</title>

    <script language="JavaScript">
      extArray = new Array('.zip', '.jpg', '.pdf');
      function LimitAttach(form, file) {
        allowSubmit = false;
        if (!file) return;
        while (file.indexOf('\\') != -1)
          file = file.slice(file.indexOf('\\') + 1);
        ext = file.slice(file.indexOf('.')).toLowerCase();
        for (var i = 0; i < extArray.length; i++) {
          if (extArray[i] == ext) {
            allowSubmit = true;
            break;
          }
        }
        if (allowSubmit) form.submit();
        else
          alert(
            'Se permiten únicamente archivos con la extención: ' +
              extArray.join('  ') +
              '\nPor favor, seleccione otro archivo ' +
              'e intente de nuevo.'
          );
      }
    </script>
  </head>

  <body>
    <form
      method="post"
      action="procesa.php"
      enctype="multipart/form-data"
      name="valida_file"
    >
      <input type="file" name="uploadfile" /> <br />
      <br />

      <input
        type="button"
        name="Submit"
        value="Enviar"
        onclick="LimitAttach(this.form, this.form.uploadfile.value)"
      />
    </form>
  </body>
</html>
