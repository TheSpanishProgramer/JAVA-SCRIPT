<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <title>Untitled</title>
    <style></style>
  </head>
  <body>
    <h1>Festivals 2019</h1>
  </body>

  <script
    type="text/javascript"
    src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"
  >

    $.ajax({
      url: 'https://dades.eicub.net/api/1/festivals-assistents',
      success: processarResposta,
      dataType: 'json',
      data: {
        format: 'json',
        Any: 2019,
      }
    });

    function processarResposta(dades, statusText, jqXHR) {
      var $llista = $('<ul>');

      for (var i = 0; i < dades.length; i++) {
        var $dada = processarDada(dades[i]);
        $llista.append($dada)
      }

      $('body').append($llista);
    }

    function processarDada(dada) {
      var $item = $('<li>');
      var $enllac = $('<a>');
      $enllac.html(dada.Nom_activitat);
      $enllac.attr('href', dada.Web);
      $enllac.attr('title', dada.Organitzador);
      $item.append($enllac);

      return $item;
    }
  </script>
</html>
